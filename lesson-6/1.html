<!-- @format -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Homework1</title>
    <style>
      .product {
        width: 200px;
        padding: 10px;
        float: left;
        margin-right: 30px;
        box-shadow: 0 0 4px black;
      }
    </style>
  </head>
  <body>
    <!--
Обязательное задание.

Выполнить все задачи в теге script. Комментарии, в которых написаны задачи, не
стирать, код с решением задачи пишем под комментарием.
-->
    <div class="product">
      <div class="productName">Товар 1</div>
      <img src="https://picsum.photos/id/367/200/300" alt="" />
      <button>В корзину</button>
    </div>
    <div class="product">
      <div class="productName">Товар 2</div>
      <img src="https://picsum.photos/id/425/200/300" alt="" />
      <button>В корзину</button>
    </div>
    <div class="product">
      <div class="productName">Товар 3</div>
      <img src="https://picsum.photos/id/429/200/300" alt="" />
      <button>В корзину</button>
    </div>

    <script>
      "use strict";

      /*
      1. Установите всем элементам с классом "productName" размер шрифта 24px.
       */

      document
        .querySelectorAll(".productName")
        .forEach((el) => (el.style.fontSize = "24px"));

      /*
      2. Установите всем элементам с классом "product" внешний отступ справа 50px.
       */

      const productEls = document.querySelectorAll(".product");

      for (const product of productEls) {
        product.style.marginRight = "50px";
      }

      /*
      для тренировки

      for (let i = 0; i < productEls.length; i++) {
        productEls[i].style.marginRight = "10px";
      }
      */

      /*
      3. При клике на кнопку "В корзину" название кнопки должно поменяться на
      "Добавлено" и кнопка должна стать неактивной.
       */

      const addProductToCart = function () {
        if (event.target.tagName === "BUTTON") {
          event.target.textContent = "Добавлено";
          event.target.disabled = true;
        }
      };

      document.body.addEventListener("click", addProductToCart);

      /*
      4. Создайте полную (глубокую) копию элемента с классом product, измените в
      этой копии путь до картинки на:
      https://picsum.photos/id/1080/200/300
      Поставьте название товара в данной копии "Товар 4" и замените последний
      отображенный товар на странице на созданную копию. У данной копии также
      должен правильно работать код из 3-го задания.
       */

      const productEl = document.querySelector(".product:last-of-type");
      const productCloneEl = productEl.cloneNode(true);

      const imgEl = productCloneEl.querySelector("img");
      const labelEl = productCloneEl.querySelector(".productName");

      imgEl.src = "https://picsum.photos/id/1080/200/300";
      labelEl.textContent = "Товар4";

      productEl.replaceWith(productCloneEl);
      /*
      Подскажите, а как мне добавить например эту карточку следующей по счету
      const newCard = document.createElement("div");
      newCard.innerHTML = productCloneEl;
      но он никак не появляется
      */

      /*
      5. По истечению 2 секунд с момента открытия страницы первый товар должен быть
      удален из html.
       */

      setTimeout(() => document.querySelector(".product").remove(), 2000);

      // window.addEventListener("open", () => {
      //   if ((window.PerformanceNavigationTiming = "2000")) {
      //     document.querySelector(".product").remove();
      //   }
      // });
    </script>
  </body>
</html>
